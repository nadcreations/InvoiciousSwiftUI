import Foundation

// MARK: - Help & Support Content
struct HelpSupportContent {
    
    // MARK: - FAQ Data Structure
    struct FAQItem: Identifiable, Hashable {
        let id = UUID()
        let question: String
        let answer: String
        let category: FAQCategory
        let tags: [String]
        
        func hash(into hasher: inout Hasher) {
            hasher.combine(id)
        }
        
        static func == (lhs: FAQItem, rhs: FAQItem) -> Bool {
            lhs.id == rhs.id
        }
    }
    
    enum FAQCategory: String, CaseIterable {
        case gettingStarted = "Getting Started"
        case invoices = "Invoices & Billing" 
        case payments = "Payments & Tracking"
        case templates = "Templates & Customization"
        case clients = "Client Management"
        case estimates = "Estimates & Quotes"
        case troubleshooting = "Troubleshooting"
        case advanced = "Advanced Features"
    }
    
    // MARK: - Complete FAQ Database
    static let allFAQs: [FAQItem] = [
        
        // MARK: - Getting Started
        FAQItem(
            question: "How do I create my first invoice?",
            answer: """
            Creating your first invoice is easy:
            
            1. **Setup Business Information**: Go to Settings ‚Üí Business Info and enter your business name, address, email, and contact details.
            
            2. **Add a Client**: Go to Clients tab and tap "Add Client" to create your first client with their contact information.
            
            3. **Create Invoice**: 
               ‚Ä¢ Tap the "+" button on the Dashboard or Invoices tab
               ‚Ä¢ Select your client from the list
               ‚Ä¢ Add line items with descriptions, quantities, and rates
               ‚Ä¢ Set payment terms and due date
               ‚Ä¢ Add any notes or special instructions
               ‚Ä¢ Tap "Save" to create the invoice
            
            4. **Send to Client**: Use the "Send" option to email the invoice directly to your client with professional PDF attachment.
            
            Your invoice will start as "Draft" status and automatically change to "Sent" when emailed to the client.
            """,
            category: .gettingStarted,
            tags: ["first invoice", "create", "setup", "business info"]
        ),
        
        FAQItem(
            question: "What information do I need to set up my business profile?",
            answer: """
            For professional invoices, you should set up:
            
            **Required Information:**
            ‚Ä¢ Business/Company Name
            ‚Ä¢ Business Email Address
            ‚Ä¢ Business Phone Number
            
            **Recommended Information:**
            ‚Ä¢ Complete Business Address
            ‚Ä¢ City, State, ZIP Code
            ‚Ä¢ Country
            ‚Ä¢ Website URL
            ‚Ä¢ Business Logo (if available)
            ‚Ä¢ Tax ID/EIN Number
            ‚Ä¢ Payment Terms and Instructions
            
            **How to Add:**
            1. Go to Settings tab
            2. Tap "Business Information"
            3. Fill in all relevant fields
            4. Tap "Save"
            
            This information will appear on all your invoices and estimates, making them look professional and complete.
            """,
            category: .gettingStarted,
            tags: ["business info", "setup", "profile", "company details"]
        ),
        
        // MARK: - Invoices & Billing
        FAQItem(
            question: "How do I send an invoice to a client?",
            answer: """
            There are two ways to send invoices:
            
            **Method 1: Detailed Send (Recommended)**
            1. Open the invoice from your Invoices list
            2. Tap the "Share" button in the action buttons
            3. Choose "Send Invoice"
            4. Verify client email address
            5. Select PDF template (Classic, Corporate, Creative, etc.)
            6. Add a personal message (optional)
            7. Enable tracking options:
               ‚Ä¢ Include Payment Instructions
               ‚Ä¢ Enable Read Receipts
            8. Review the email preview
            9. Tap "Send Now"
            
            **Method 2: Quick Send**
            1. Open the invoice
            2. Use "Quick Send" for immediate sending with default settings
            
            **Status Changes:**
            ‚Ä¢ Invoice status automatically changes from "Draft" ‚Üí "Sent"
            ‚Ä¢ You'll receive delivery confirmations and read receipts
            ‚Ä¢ Track opens, downloads, and payment status
            
            The client receives a professional PDF attachment with payment instructions.
            """,
            category: .invoices,
            tags: ["send invoice", "email", "client", "PDF", "status"]
        ),
        
        FAQItem(
            question: "What do the different invoice statuses mean?",
            answer: """
            Invoice statuses help you track the billing process:
            
            **üìù Draft**
            ‚Ä¢ Newly created invoice not yet sent
            ‚Ä¢ Can be edited, modified, or deleted
            ‚Ä¢ Not visible to client
            
            **üì§ Sent** 
            ‚Ä¢ Invoice emailed to client successfully
            ‚Ä¢ Changes from Draft automatically when sent
            ‚Ä¢ Client can view and download
            ‚Ä¢ Payment is pending
            
            **üëÄ Viewed**
            ‚Ä¢ Client has opened/viewed the invoice
            ‚Ä¢ Tracked via email read receipts
            ‚Ä¢ Shows engagement but no payment yet
            
            **üí∞ Paid**
            ‚Ä¢ Full payment received and recorded
            ‚Ä¢ Invoice balance is $0.00
            ‚Ä¢ Automatically set when payments equal total amount
            
            **‚ö†Ô∏è Overdue**
            ‚Ä¢ Due date has passed without full payment
            ‚Ä¢ Automatically calculated based on due date
            ‚Ä¢ Requires follow-up action
            
            **‚ùå Cancelled**
            ‚Ä¢ Invoice voided or cancelled
            ‚Ä¢ No payment expected
            ‚Ä¢ Can be manually set
            
            **üîÑ Partially Paid**
            ‚Ä¢ Some payment received, but balance remains
            ‚Ä¢ Shows in payment tracking
            ‚Ä¢ Requires additional payment
            
            Status changes happen automatically based on actions (sending, payments) or dates (overdue).
            """,
            category: .invoices,
            tags: ["status", "draft", "sent", "paid", "overdue", "workflow"]
        ),
        
        FAQItem(
            question: "How do I edit or modify an existing invoice?",
            answer: """
            Invoice editing depends on the current status:
            
            **Draft Invoices (Full Editing)**
            1. Go to Invoices tab
            2. Tap the Draft invoice
            3. Tap "Edit" button (top right)
            4. Modify any details:
               ‚Ä¢ Client information
               ‚Ä¢ Line items (add, edit, delete)
               ‚Ä¢ Amounts and quantities
               ‚Ä¢ Due date and terms
               ‚Ä¢ Notes and descriptions
            5. Tap "Save" to update
            
            **Sent/Paid Invoices (Limited Editing)**
            ‚Ä¢ Cannot modify amounts or line items
            ‚Ä¢ Can update notes and internal information
            ‚Ä¢ For major changes, consider:
              - Creating a credit memo
              - Issuing a new corrected invoice
              - Adding payment adjustments
            
            **Best Practices:**
            ‚Ä¢ Review carefully before sending
            ‚Ä¢ Use Draft status for work-in-progress
            ‚Ä¢ Communicate changes with clients
            ‚Ä¢ Keep audit trail of modifications
            
            **Duplicate Feature:**
            ‚Ä¢ Use "Duplicate" to create similar invoices
            ‚Ä¢ Saves time for recurring clients
            ‚Ä¢ Creates new Draft with same details
            """,
            category: .invoices,
            tags: ["edit invoice", "modify", "draft", "changes", "duplicate"]
        ),
        
        // MARK: - Payments & Tracking  
        FAQItem(
            question: "How does the Pay option work?",
            answer: """
            The **Pay** button opens the Payment Tracking system where you can:
            
            **Payment Management:**
            ‚Ä¢ Record payments received from clients
            ‚Ä¢ Track multiple partial payments
            ‚Ä¢ Monitor remaining balance
            ‚Ä¢ View complete payment history
            
            **Recording Payments:**
            1. Open invoice ‚Üí Tap "Pay" button
            2. Tap "Add Payment"
            3. Enter payment details:
               ‚Ä¢ Amount received
               ‚Ä¢ Payment date
               ‚Ä¢ Payment method (Cash, Check, Credit Card, Bank Transfer, PayPal, etc.)
               ‚Ä¢ Reference number (check #, transaction ID)
               ‚Ä¢ Optional notes
            4. Tap "Save"
            
            **Automatic Status Updates:**
            ‚Ä¢ **Partial Payment**: Status ‚Üí "Partially Paid"
            ‚Ä¢ **Full Payment**: Status ‚Üí "Paid" 
            ‚Ä¢ Balance automatically calculated
            ‚Ä¢ Dashboard metrics updated
            
            **Payment History:**
            ‚Ä¢ View all payments in chronological order
            ‚Ä¢ Edit or delete payment records
            ‚Ä¢ Export payment data
            ‚Ä¢ Generate payment reports
            
            **Quick Actions:**
            ‚Ä¢ "Quick Fill Remaining Balance" button
            ‚Ä¢ Payment method icons and organization
            ‚Ä¢ Real-time balance calculations
            
            This system helps you maintain accurate financial records and track which invoices need follow-up.
            """,
            category: .payments,
            tags: ["pay button", "payment tracking", "record payment", "balance", "status"]
        ),
        
        FAQItem(
            question: "How can I track if clients have viewed my invoices?",
            answer: """
            Invoicious provides comprehensive invoice tracking:
            
            **Email Tracking Features:**
            ‚Ä¢ **Delivery Confirmations**: Know when email was delivered
            ‚Ä¢ **Read Receipts**: See when client opened the email
            ‚Ä¢ **PDF Download Tracking**: Track when invoice PDF is downloaded
            ‚Ä¢ **View Count**: Number of times invoice was viewed
            ‚Ä¢ **Last Viewed Date**: Most recent viewing timestamp
            
            **How to Enable Tracking:**
            1. When sending invoice, ensure "Enable Read Receipts" is ON
            2. This is enabled by default for all invoices
            3. Tracking works automatically once enabled
            
            **Viewing Tracking Data:**
            
            **Method 1: Invoice Detail View**
            ‚Ä¢ Open any invoice
            ‚Ä¢ Scroll to "Send History" section  
            ‚Ä¢ See delivery status, open dates, and view counts
            
            **Method 2: Invoice Tracking Page**
            ‚Ä¢ Go to More ‚Üí Invoice Tracking
            ‚Ä¢ Comprehensive tracking dashboard
            ‚Ä¢ Filter by status, date ranges
            ‚Ä¢ Export tracking reports
            
            **Method 3: Send View**
            ‚Ä¢ When preparing to send/resend
            ‚Ä¢ Shows previous send history
            ‚Ä¢ Tracking stats and engagement metrics
            
            **Tracking Insights:**
            ‚Ä¢ **Green checkmarks**: Successfully delivered and opened
            ‚Ä¢ **Clock icons**: Delivered but not yet opened  
            ‚Ä¢ **View counts**: Client engagement level
            ‚Ä¢ **Time stamps**: When actions occurred
            
            Use this data to follow up appropriately and improve client communication.
            """,
            category: .payments,
            tags: ["tracking", "read receipts", "client views", "email tracking", "engagement"]
        ),
        
        // MARK: - Templates & Customization
        FAQItem(
            question: "What invoice templates are available and how do I choose one?",
            answer: """
            Invoicious offers 9 professional invoice templates:
            
            **Available Templates:**
            
            **üìã Classic** - Timeless and professional design
            ‚Ä¢ Traditional layout with clean typography
            ‚Ä¢ Suitable for most business types
            ‚Ä¢ Default template for new invoices
            
            **‚ú® Minimalist** - Clean and simple layout  
            ‚Ä¢ Ultra-clean design with minimal elements
            ‚Ä¢ Perfect for modern, tech-focused businesses
            ‚Ä¢ Emphasizes content over decoration
            
            **üè¢ Corporate** - Formal business style
            ‚Ä¢ Professional blue header
            ‚Ä¢ Ideal for large corporations and formal industries
            ‚Ä¢ Structured, traditional appearance
            
            **üé® Creative** - Modern and artistic approach
            ‚Ä¢ Colorful circles and creative elements
            ‚Ä¢ Great for design agencies, studios, and creative services
            ‚Ä¢ Eye-catching and memorable
            
            **üëî Executive** - Premium executive style
            ‚Ä¢ Gold accents and premium feel
            ‚Ä¢ Perfect for high-end services and consulting
            ‚Ä¢ Sophisticated and luxurious appearance
            
            **üí∞ Finance** - Professional financial format
            ‚Ä¢ Green color scheme with financial icons
            ‚Ä¢ Ideal for accounting, bookkeeping, and financial services
            ‚Ä¢ Includes professional grid elements
            
            **ü§ù Consulting** - Clean consulting style
            ‚Ä¢ Professional circles and structured layout
            ‚Ä¢ Perfect for consulting and professional services
            ‚Ä¢ Balanced design with clear information hierarchy
            
            **üíª Technology** - Modern tech-focused design
            ‚Ä¢ Blue gradient and technical elements
            ‚Ä¢ Great for IT services, software companies, and tech startups
            ‚Ä¢ Contemporary and innovative feel
            
            **‚öñÔ∏è Legal** - Formal legal document style
            ‚Ä¢ Traditional brown/gold legal colors
            ‚Ä¢ Designed for law firms and legal services
            ‚Ä¢ Formal, authoritative appearance
            
            **How to Choose Templates:**
            
            **For New Invoices:**
            1. During invoice creation, select template in the details section
            2. Preview shows how your invoice will look
            3. Can change before sending
            
            **When Sending:**
            1. In Send view, use template dropdown
            2. Preview regenerates automatically
            3. Choose best template for specific client
            
            **Tips for Template Selection:**
            ‚Ä¢ Match your industry and brand
            ‚Ä¢ Consider client expectations
            ‚Ä¢ Use consistent templates for brand recognition
            ‚Ä¢ Creative templates for creative industries
            ‚Ä¢ Conservative templates for traditional businesses
            """,
            category: .templates,
            tags: ["templates", "PDF", "design", "customization", "branding"]
        ),
        
        // MARK: - Client Management
        FAQItem(
            question: "How do I manage and organize my clients?",
            answer: """
            Effective client management is key to streamlined invoicing:
            
            **Adding New Clients:**
            1. Go to Clients tab
            2. Tap "Add Client" (+) button
            3. Enter client information:
               ‚Ä¢ **Required**: Name and Email
               ‚Ä¢ **Optional**: Company, Phone, Address
               ‚Ä¢ Complete address for professional invoices
            4. Tap "Save"
            
            **Client Information Fields:**
            ‚Ä¢ **Personal**: First Name, Last Name
            ‚Ä¢ **Business**: Company Name
            ‚Ä¢ **Contact**: Email (required for sending), Phone
            ‚Ä¢ **Address**: Street, City, State, ZIP, Country
            ‚Ä¢ **Notes**: Internal notes and special instructions
            
            **Managing Existing Clients:**
            ‚Ä¢ **Edit**: Tap client ‚Üí "Edit" ‚Üí Update information
            ‚Ä¢ **View History**: See all invoices and estimates for client
            ‚Ä¢ **Communication**: Track email history and interactions
            ‚Ä¢ **Notes**: Add internal notes for team reference
            
            **Client Search & Organization:**
            ‚Ä¢ **Search Bar**: Find clients by name, company, or email
            ‚Ä¢ **Sort Options**: Alphabetical, recent activity, total billed
            ‚Ä¢ **Filters**: Active clients, recent clients, top clients
            
            **Client Analytics:**
            ‚Ä¢ Total amount billed per client
            ‚Ä¢ Payment history and reliability
            ‚Ä¢ Average invoice amount
            ‚Ä¢ Outstanding balance
            ‚Ä¢ Most recent activity
            
            **Best Practices:**
            ‚Ä¢ Keep client information updated
            ‚Ä¢ Use consistent naming conventions
            ‚Ä¢ Add detailed contact information
            ‚Ä¢ Include billing addresses for accuracy
            ‚Ä¢ Use notes for special payment terms or preferences
            ‚Ä¢ Regular cleanup of inactive clients
            
            **Bulk Operations:**
            ‚Ä¢ Export client list to CSV
            ‚Ä¢ Import clients from spreadsheet
            ‚Ä¢ Mass email capabilities for announcements
            """,
            category: .clients,
            tags: ["clients", "contact management", "customer database", "organization"]
        ),
        
        // MARK: - Estimates & Quotes
        FAQItem(
            question: "What's the difference between estimates and invoices, and how do I convert them?",
            answer: """
            **Estimates vs Invoices:**
            
            **üìã Estimates (Quotes)**
            ‚Ä¢ **Purpose**: Propose pricing before work begins
            ‚Ä¢ **Legal Status**: Not a demand for payment
            ‚Ä¢ **Client Action**: Client can accept, decline, or negotiate
            ‚Ä¢ **Timeline**: Include expiration date
            ‚Ä¢ **Status**: Draft ‚Üí Sent ‚Üí Accepted/Declined/Expired
            
            **üí∞ Invoices** 
            ‚Ä¢ **Purpose**: Request payment for completed work/services
            ‚Ä¢ **Legal Status**: Formal payment request
            ‚Ä¢ **Client Action**: Payment due by specified date
            ‚Ä¢ **Timeline**: Include due date for payment
            ‚Ä¢ **Status**: Draft ‚Üí Sent ‚Üí Paid/Overdue
            
            **Creating Estimates:**
            1. Go to Estimates tab
            2. Tap "Add Estimate" (+)
            3. Select client and add line items
            4. Set expiration date (validity period)
            5. Add terms and conditions
            6. Save and send to client
            
            **Converting Estimates to Invoices:**
            
            **One-Click Conversion:**
            1. Open accepted estimate
            2. Tap the prominent "Convert to Invoice" button
            3. System automatically:
               ‚Ä¢ Creates new invoice with same details
               ‚Ä¢ Copies all line items and amounts
               ‚Ä¢ Sets client information
               ‚Ä¢ Marks estimate as "Accepted"
               ‚Ä¢ Assigns new invoice number
               ‚Ä¢ Sets draft status for review before sending
            
            **Manual Process:**
            1. Create new invoice
            2. Copy details from estimate
            3. Update amounts if needed
            4. Send to client
            
            **Status Management:**
            ‚Ä¢ **Estimate**: Draft ‚Üí Sent ‚Üí Accepted ‚Üí Converted
            ‚Ä¢ **Invoice**: Draft ‚Üí Sent ‚Üí Paid
            
            **Best Practices:**
            ‚Ä¢ Always get estimate approval before starting work
            ‚Ä¢ Include clear scope and terms in estimates
            ‚Ä¢ Set reasonable expiration dates (30-60 days)
            ‚Ä¢ Convert accepted estimates promptly
            ‚Ä¢ Keep estimate and invoice numbering separate
            ‚Ä¢ Track conversion rates for business insights
            
            **Workflow Benefits:**
            ‚Ä¢ Clear project approval process
            ‚Ä¢ Reduced payment disputes
            ‚Ä¢ Professional client communication
            ‚Ä¢ Accurate project scoping
            ‚Ä¢ Better cash flow management
            """,
            category: .estimates,
            tags: ["estimates", "quotes", "conversion", "workflow", "approval process"]
        ),
        
        // MARK: - Troubleshooting
        FAQItem(
            question: "Why are my invoices not sending via email?",
            answer: """
            Common email sending issues and solutions:
            
            **Check Email Address:**
            ‚Ä¢ Verify client email is correct and complete
            ‚Ä¢ Look for typos in email address
            ‚Ä¢ Ensure no spaces before/after email
            ‚Ä¢ Valid format: user@domain.com
            
            **Device Settings:**
            ‚Ä¢ **iPhone/iPad**: Go to Settings ‚Üí Mail ‚Üí Default Account
            ‚Ä¢ Ensure you have a configured email account
            ‚Ä¢ Check if email account is active and working
            ‚Ä¢ Try sending a regular email to test
            
            **Network Connection:**
            ‚Ä¢ Ensure stable Wi-Fi or cellular connection
            ‚Ä¢ Try switching between Wi-Fi and cellular
            ‚Ä¢ Test internet connection with other apps
            
            **PDF Generation Issues:**
            ‚Ä¢ Large invoices may take time to generate PDF
            ‚Ä¢ Wait for "PDF generated successfully" message
            ‚Ä¢ Try simpler template if having issues
            ‚Ä¢ Restart app if PDF generation fails
            
            **Email Provider Issues:**
            ‚Ä¢ Some corporate email servers block automated emails
            ‚Ä¢ Try different email account if available
            ‚Ä¢ Check with IT department for restrictions
            ‚Ä¢ Gmail, iCloud, and Outlook generally work well
            
            **Troubleshooting Steps:**
            1. **Test with Simple Invoice**: Create basic invoice and try sending
            2. **Check Send History**: Look for error messages in send history
            3. **Try Different Template**: Use Classic template to rule out template issues
            4. **Manual Alternative**: Export PDF and send manually via regular email
            5. **Restart App**: Close and reopen Invoicious
            6. **Update App**: Ensure you have latest version
            
            **Alternative Solutions:**
            ‚Ä¢ Use "Share" ‚Üí "Save to Files" ‚Üí Email manually
            ‚Ä¢ Print invoice and deliver physically
            ‚Ä¢ Share PDF via messaging apps
            ‚Ä¢ Use cloud storage links (Dropbox, Google Drive)
            
            **Success Indicators:**
            ‚Ä¢ Green checkmark = Email sent successfully
            ‚Ä¢ Delivery confirmation in send history
            ‚Ä¢ Client confirmation of receipt
            
            If problems persist, try the manual export option or contact support with specific error messages.
            """,
            category: .troubleshooting,
            tags: ["email problems", "sending issues", "troubleshooting", "PDF", "technical support"]
        ),
        
        FAQItem(
            question: "How do I backup and restore my invoice data?",
            answer: """
            Data protection is crucial for your business records:
            
            **Automatic iCloud Backup:**
            ‚Ä¢ Invoicious automatically syncs with iCloud when enabled
            ‚Ä¢ Backs up invoices, clients, estimates, and settings
            ‚Ä¢ Works across all your iOS devices
            ‚Ä¢ Enable: Settings ‚Üí [Your Name] ‚Üí iCloud ‚Üí Invoicious (ON)
            
            **Manual Export Options:**
            
            **Export Individual Invoices:**
            1. Open invoice ‚Üí Share ‚Üí Save PDF
            2. Choose location (Files, Dropbox, etc.)
            3. Creates permanent PDF record
            
            **Bulk Data Export:**
            1. Go to Settings ‚Üí Export Data
            2. Select data types:
               ‚Ä¢ All Invoices and line items
               ‚Ä¢ Client contact database  
               ‚Ä¢ Payment history and records
               ‚Ä¢ Estimates and quotes
               ‚Ä¢ Business information and settings
               ‚Ä¢ Financial summary reports
            3. Choose format: CSV spreadsheet
            4. Export creates comprehensive backup file
            5. Save to secure location (cloud storage recommended)
            
            **What Gets Exported:**
            ‚Ä¢ Complete invoice details and line items
            ‚Ä¢ Client information and contacts
            ‚Ä¢ Payment records and history
            ‚Ä¢ Estimate data and conversions
            ‚Ä¢ Financial metrics and totals
            ‚Ä¢ Send history and tracking data
            
            **Restoration Process:**
            ‚Ä¢ **Same Device**: Data restores automatically from iCloud
            ‚Ä¢ **New Device**: Sign in with same Apple ID, enable iCloud sync
            ‚Ä¢ **Manual Restore**: Import CSV data into new installation
            
            **Best Backup Practices:**
            1. **Enable iCloud Sync**: Primary backup method
            2. **Regular Exports**: Monthly CSV exports to external storage
            3. **PDF Archives**: Save important invoices as PDFs
            4. **Multiple Locations**: Store backups in 2-3 different places
            5. **Test Restores**: Periodically verify backups work
            
            **Storage Recommendations:**
            ‚Ä¢ **iCloud Drive**: Automatic, secure, accessible
            ‚Ä¢ **Dropbox/Google Drive**: Cross-platform access
            ‚Ä¢ **External Drive**: Local backup for extra security
            ‚Ä¢ **Email to Self**: Quick backup for critical data
            
            **Security Notes:**
            ‚Ä¢ All exports are encrypted and secure
            ‚Ä¢ Client data protected with privacy safeguards
            ‚Ä¢ Only you have access to your business data
            ‚Ä¢ Regular backups prevent data loss from device issues
            
            **Recovery Scenarios:**
            ‚Ä¢ **Lost Device**: Restore from iCloud to new device
            ‚Ä¢ **Corrupted Data**: Import from CSV backup
            ‚Ä¢ **Accidental Deletion**: Recover from recent export
            ‚Ä¢ **Device Upgrade**: Transfer via iCloud sync
            """,
            category: .troubleshooting,
            tags: ["backup", "export", "data recovery", "iCloud", "restore"]
        ),
        
        // MARK: - Advanced Features
        FAQItem(
            question: "How do I set up recurring invoices for regular clients?",
            answer: """
            Recurring invoices automate billing for regular services:
            
            **When to Use Recurring Invoices:**
            ‚Ä¢ Monthly retainer clients
            ‚Ä¢ Subscription services
            ‚Ä¢ Regular maintenance contracts
            ‚Ä¢ Ongoing consulting agreements
            ‚Ä¢ Gym memberships, software licenses
            ‚Ä¢ Any predictable, repeating billing
            
            **Setting Up Recurring Invoices:**
            1. Create a standard invoice template with your regular client
            2. Go to More ‚Üí Recurring Invoices
            3. Tap "Add Recurring Invoice"
            4. Configure settings:
               ‚Ä¢ **Client**: Select from your client list
               ‚Ä¢ **Invoice Template**: Choose existing invoice to repeat
               ‚Ä¢ **Frequency**: Weekly, Monthly, Quarterly, Annually
               ‚Ä¢ **Start Date**: When recurring billing begins
               ‚Ä¢ **End Date**: When to stop (optional)
               ‚Ä¢ **Auto-Send**: Automatically email to client
            5. Save configuration
            
            **Frequency Options:**
            ‚Ä¢ **Weekly**: Every 7 days
            ‚Ä¢ **Monthly**: Same date each month
            ‚Ä¢ **Quarterly**: Every 3 months  
            ‚Ä¢ **Annually**: Same date each year
            ‚Ä¢ **Custom**: Set specific day intervals
            
            **Automated Features:**
            ‚Ä¢ **Auto-Generation**: Creates new invoice automatically
            ‚Ä¢ **Smart Numbering**: Sequential invoice numbers
            ‚Ä¢ **Auto-Send Option**: Emails client automatically
            ‚Ä¢ **Status Tracking**: Monitors all generated invoices
            ‚Ä¢ **Payment Tracking**: Links to payment system
            
            **Managing Recurring Invoices:**
            ‚Ä¢ **View Schedule**: See all upcoming recurring bills
            ‚Ä¢ **Modify Settings**: Change frequency, amounts, or clients
            ‚Ä¢ **Pause/Resume**: Temporarily stop without deleting
            ‚Ä¢ **End Series**: Stop recurring with end date
            ‚Ä¢ **Manual Generation**: Create next invoice early
            
            **Generated Invoice Features:**
            ‚Ä¢ Creates as "Draft" status for review
            ‚Ä¢ Uses current business information
            ‚Ä¢ Updates dates automatically
            ‚Ä¢ Maintains line items and amounts
            ‚Ä¢ Can be edited before sending
            ‚Ä¢ Full tracking and payment features
            
            **Monitoring & Reports:**
            ‚Ä¢ Dashboard shows recurring revenue metrics
            ‚Ä¢ Track success rate of recurring billing
            ‚Ä¢ View client payment reliability
            ‚Ä¢ Export recurring billing reports
            ‚Ä¢ Monitor overdue recurring payments
            
            **Best Practices:**
            ‚Ä¢ Review generated invoices before auto-sending
            ‚Ä¢ Update recurring invoice templates when rates change
            ‚Ä¢ Set clear payment terms with recurring clients
            ‚Ä¢ Monitor for failed payments or declined cards
            ‚Ä¢ Communicate any changes to clients in advance
            ‚Ä¢ Use consistent invoice templates for brand recognition
            
            **Troubleshooting:**
            ‚Ä¢ **Missed Generation**: Check app regularly to ensure proper operation
            ‚Ä¢ **Email Failures**: Monitor send history for delivery issues
            ‚Ä¢ **Amount Changes**: Update template and it applies to future invoices
            ‚Ä¢ **Client Changes**: Update client info in recurring settings
            """,
            category: .advanced,
            tags: ["recurring invoices", "automation", "regular billing", "subscriptions", "retainers"]
        ),
        
        FAQItem(
            question: "What reports and analytics are available?",
            answer: """
            Invoicious provides comprehensive business analytics:
            
            **Dashboard Overview:**
            ‚Ä¢ **Total Revenue**: All-time earnings with growth trends
            ‚Ä¢ **Pending Amount**: Outstanding invoices awaiting payment  
            ‚Ä¢ **Active Clients**: Current client count with monthly growth
            ‚Ä¢ **Total Invoices**: Invoice volume with tracking metrics
            
            **Financial Reports:**
            
            **Revenue Analysis:**
            ‚Ä¢ Monthly/quarterly/yearly revenue trends
            ‚Ä¢ Paid vs pending amounts breakdown
            ‚Ä¢ Revenue by client rankings
            ‚Ä¢ Average invoice amount calculations
            ‚Ä¢ Payment timeline analysis
            
            **Invoice Analytics:**
            ‚Ä¢ Invoice status distribution (Draft, Sent, Paid, Overdue)
            ‚Ä¢ Sending success rates and delivery metrics
            ‚Ä¢ Average time from send to payment
            ‚Ä¢ Most used invoice templates
            ‚Ä¢ Invoice volume trends over time
            
            **Client Performance:**
            ‚Ä¢ Top clients by revenue
            ‚Ä¢ Payment reliability scores
            ‚Ä¢ Client lifetime value
            ‚Ä¢ New vs returning client ratios
            ‚Ä¢ Client growth and retention rates
            
            **Payment Insights:**
            ‚Ä¢ Payment method preferences
            ‚Ä¢ Average payment collection time
            ‚Ä¢ Overdue payment patterns
            ‚Ä¢ Partial payment frequency
            ‚Ä¢ Collection success rates
            
            **Tracking & Engagement:**
            ‚Ä¢ Email delivery success rates
            ‚Ä¢ Invoice view and open rates
            ‚Ä¢ PDF download statistics
            ‚Ä¢ Client engagement metrics
            ‚Ä¢ Follow-up effectiveness
            
            **Accessing Reports:**
            
            **Dashboard Cards:**
            ‚Ä¢ Real-time key metrics on home screen
            ‚Ä¢ Tap any metric for detailed breakdown
            ‚Ä¢ Visual charts and trend indicators
            
            **Invoice Tracking:**
            ‚Ä¢ Go to More ‚Üí Invoice Tracking
            ‚Ä¢ Comprehensive tracking dashboard
            ‚Ä¢ Filter by date ranges, status, clients
            ‚Ä¢ Export detailed tracking reports
            
            **Export Features:**
            ‚Ä¢ CSV export with complete transaction data
            ‚Ä¢ Filter by date ranges and criteria
            ‚Ä¢ Include line-item details
            ‚Ä¢ Financial summaries and totals
            ‚Ä¢ Import into Excel, QuickBooks, or other systems
            
            **Report Categories in Export:**
            ‚Ä¢ **Invoice Data**: Complete invoice details and history
            ‚Ä¢ **Client Information**: Contact details and communication history
            ‚Ä¢ **Payment Records**: All payment transactions and methods
            ‚Ä¢ **Line Items**: Detailed product/service breakdown
            ‚Ä¢ **Financial Summary**: Revenue, pending, overdue totals
            ‚Ä¢ **Tracking Data**: Email sends, opens, downloads
            
            **Business Intelligence:**
            ‚Ä¢ Identify best-performing clients
            ‚Ä¢ Optimize invoice templates and timing
            ‚Ä¢ Improve collection processes
            ‚Ä¢ Track business growth trends
            ‚Ä¢ Plan cash flow and forecasting
            ‚Ä¢ Monitor client satisfaction indicators
            
            **Custom Analysis:**
            ‚Ä¢ Export data to Excel for custom reports
            ‚Ä¢ Create pivot tables for advanced analysis
            ‚Ä¢ Track specific metrics important to your business
            ‚Ä¢ Compare performance across time periods
            ‚Ä¢ Analyze seasonal business patterns
            
            Use these insights to make informed business decisions and optimize your invoicing processes.
            """,
            category: .advanced,
            tags: ["reports", "analytics", "dashboard", "metrics", "business intelligence", "export"]
        )
    ]
    
    // MARK: - Helper Methods
    static func getFAQs(for category: FAQCategory) -> [FAQItem] {
        return allFAQs.filter { $0.category == category }
    }
    
    static func searchFAQs(_ searchText: String) -> [FAQItem] {
        guard !searchText.isEmpty else { return allFAQs }
        
        let lowercasedSearch = searchText.lowercased()
        return allFAQs.filter { faq in
            faq.question.lowercased().contains(lowercasedSearch) ||
            faq.answer.lowercased().contains(lowercasedSearch) ||
            faq.tags.contains { $0.lowercased().contains(lowercasedSearch) }
        }
    }
    
    static func getMostRelevantFAQs() -> [FAQItem] {
        // Return most commonly needed FAQs
        let priorityQuestions = [
            "How do I create my first invoice?",
            "How do I send an invoice to a client?",
            "How does the Pay option work?",
            "What do the different invoice statuses mean?",
            "How do I manage and organize my clients?"
        ]
        
        return allFAQs.filter { faq in
            priorityQuestions.contains(faq.question)
        }
    }
}

// MARK: - Support Contact Information
struct SupportInfo {
    static let websiteURL = "https://invoicious.app"
    static let supportEmail = "support@invoicious.app"
    static let documentationURL = "https://help.invoicious.app"
    
    struct ContactOption {
        let title: String
        let subtitle: String
        let icon: String
        let action: ContactAction
    }
    
    enum ContactAction {
        case website
        case email
        case documentation
        case inAppFAQ
    }
    
    static let contactOptions: [ContactOption] = [
        ContactOption(
            title: "FAQ", 
            subtitle: "Find answers to common questions",
            icon: "questionmark.circle.fill",
            action: .inAppFAQ
        ),
        ContactOption(
            title: "Email Support",
            subtitle: "Get help from our support team", 
            icon: "envelope.fill",
            action: .email
        ),
        ContactOption(
            title: "Website",
            subtitle: "Visit our website for more information",
            icon: "globe",
            action: .website
        ),
        ContactOption(
            title: "Documentation", 
            subtitle: "Detailed guides and tutorials",
            icon: "book.fill",
            action: .documentation
        )
    ]
}